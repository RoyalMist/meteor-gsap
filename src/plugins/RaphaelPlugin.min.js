/*!
 * VERSION: beta 0.2.0
 * DATE: 2013-02-27
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var t=/[^\d\-\.]/g,e=Math.PI/180,i=/(\d|\.)+/g,s={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},r=function(t){return"number"==typeof t?[t>>16,255&t>>8,255&t]:""===t||null==t||"none"===t||"string"!=typeof t?s.transparent:s[t]?s[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):t.match(i)||s.transparent},n={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},a=function(t,e){var i=t.matrix,s=1e-6,r=i.a,n=i.b,a=i.c,o=i.d,h=e?t._gsTransform||{skewY:0}:{skewY:0},l=0>h.scaleX;return h.tx=i.e-(h.ox||0),h.ty=i.f-(h.oy||0),h.scaleX=Math.sqrt(r*r+n*n),h.scaleY=Math.sqrt(o*o+a*a),h.rotation=r||n?Math.atan2(n,r):h.rotation||0,h.skewX=a||o?Math.atan2(a,o)+h.rotation:h.skewX||0,Math.abs(h.skewX)>Math.PI/2&&(l?(h.scaleX*=-1,h.skewX+=0>=h.rotation?Math.PI:-Math.PI,h.rotation+=0>=h.rotation?Math.PI:-Math.PI):(h.scaleY*=-1,h.skewX+=0>=h.skewX?Math.PI:-Math.PI)),s>h.rotation&&h.rotation>-s&&(r||n)&&(h.rotation=0),s>h.skewX&&h.skewX>-s&&(n||a)&&(h.skewX=0),e&&(t._gsTransform=h),h},o=function(t,e){return null==t?e:"string"==typeof t&&1===t.indexOf("=")?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:Number(t)},h=function(i,s){var r=-1===i.indexOf("rad")?e:1,n=1===i.indexOf("=");return i=Number(i.replace(t,""))*r,n?i+s:i},l=window._gsDefine.plugin({propName:"raphael",API:2,init:function(e,i,s){if(!e.attr)return!1;this._target=e,this._tween=s,this._props=e._gsProps=e._gsProps||{};var a,o,h,l,u,_,p;for(a in i)h=i[a],"transform"!==a?n[a]||"pivot"===a?this._parseTransform(e,i):(o=e.attr(a),this._firstPT=l={_next:this._firstPT,t:this._props,p:a,b:o,f:!1,n:"raphael_"+a,r:!1,type:0},"fill"===a||"stroke"===a?(u=r(o),_=r(h),l.e=h,l.s=Number(u[0]),l.c=Number(_[0])-l.s,l.gs=Number(u[1]),l.gc=Number(_[1])-l.gs,l.bs=Number(u[2]),l.bc=Number(_[2])-l.bs,u.length>3||_.length>3?(l.as=4>u.length?1:Number(u[3]),l.ac=(4>_.length?1:Number(_[3]))-l.as,l.type=2):l.type=1):(o="string"==typeof o?parseFloat(o.replace(t,"")):Number(o),"string"==typeof h?(p="="===h.charAt(1),h=parseFloat(h.replace(t,""))):p=!1,l.e=h||0===h?p?h+o:h:i[a],!o&&0!==o||!h&&0!==h||!(l.c=p?h:h-o)?(l.type=-1,l.i=i[a],l.s=l.c=0):l.s=o),this._overwriteProps.push("raphael_"+a),l._next&&(l._next._prev=l)):this._parseTransform(e,h);return!0},set:function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r&&(e=e>0?e+.5>>0:e-.5>>0),i.type?1===i.type?i.t[i.p]="rgb("+(e>>0)+", "+(i.gs+t*i.gc>>0)+", "+(i.bs+t*i.bc>>0)+")":2===i.type?i.t[i.p]="rgba("+(e>>0)+", "+(i.gs+t*i.gc>>0)+", "+(i.bs+t*i.bc>>0)+", "+(i.as+t*i.ac)+")":-1===i.type&&(i.t[i.p]=i.i):i.t[i.p]=e,i=i._next;if(this._target.attr(this._props),this._transform){i=this._transform;var s=i.rotation,r=s-i.skewX,n=Math.cos(s)*i.scaleX,a=Math.sin(s)*i.scaleX,o=Math.sin(r)*-i.scaleY,h=Math.cos(r)*i.scaleY,l=1e-6,u=this._pxl,_=this._pyl;l>a&&a>-l&&(a=0),l>o&&o>-l&&(o=0),i.ox=this._pxg-(u*n+_*o),i.oy=this._pyg-(u*a+_*h),this._target.transform("m"+n+","+a+","+o+","+h+","+(i.tx+i.ox)+","+(i.ty+i.oy))}}}),u=l.prototype;u._parseTransform=function(t,i){if(!this._transform){var s,r,l,u,_,p,f,c,m,d=this._transform=a(t,!0),g=1e-6;if("object"==typeof i){if(s={scaleX:o(null!=i.scaleX?i.scaleX:i.scale,d.scaleX),scaleY:o(null!=i.scaleY?i.scaleY:i.scale,d.scaleY),tx:o(i.tx,d.tx),ty:o(i.ty,d.ty)},null!=i.shortRotation){s.rotation="number"==typeof i.shortRotation?i.shortRotation*e:h(i.shortRotation,d.rotation);var v=(s.rotation-d.rotation)%(2*Math.PI);v!==v%Math.PI&&(v+=Math.PI*(0>v?2:-2)),s.rotation=d.rotation+v}else s.rotation=null==i.rotation?d.rotation:"number"==typeof i.rotation?i.rotation*e:h(i.rotation,d.rotation);s.skewX=null==i.skewX?d.skewX:"number"==typeof i.skewX?i.skewX*e:h(i.skewX,d.skewX),s.skewY=null==i.skewY?d.skewY:"number"==typeof i.skewY?i.skewY*e:h(i.skewY,d.skewY),(r=s.skewY-d.skewY)&&(s.skewX+=r,s.rotation+=r),g>s.skewY&&s.skewY>-g&&(s.skewY=0),g>s.skewX&&s.skewX>-g&&(s.skewX=0),g>s.rotation&&s.rotation>-g&&(s.rotation=0),m=i.localPivot||i.globalPivot,"string"==typeof m?(_=m.split(","),p=Number(_[0]),f=Number(_[1])):"object"==typeof m?(p=Number(m.x),f=Number(m.y)):i.localPivot?(_=t.getBBox(!0),p=_.width/2,f=_.height/2):(_=t.getBBox(),p=_.x+_.width/2,f=_.y+_.height/2),i.localPivot?(c=t.matrix,p+=t.attr("x"),f+=t.attr("y"),this._pxl=p,this._pyl=f,this._pxg=p*c.a+f*c.c+c.e-d.tx,this._pyg=p*c.b+f*c.d+c.f-d.ty):(c=t.matrix.invert(),this._pxl=p*c.a+f*c.c+c.e,this._pyl=p*c.b+f*c.d+c.f,this._pxg=p-d.tx,this._pyg=f-d.ty)}else{if("string"!=typeof i)return;_=this._target.transform(),t.transform(i),s=a(t,!1),t.transform(_)}for(l in n)d[l]!==s[l]&&"shortRotation"!==l&&"scale"!==l&&(this._firstPT=u={_next:this._firstPT,t:d,p:l,s:d[l],c:s[l]-d[l],n:l,f:!1,r:!1,b:d[l],e:s[l],type:0},u._next&&(u._next._prev=u),this._overwriteProps.push("raphael_"+l))}}}),window._gsDefine&&window._gsQueue.pop()();